---
title: "proyecto_mineria_steam"
output:
  html_document: 
    number_sections: yes
    theme: spacelab
    toc: yes
    df_print: default
  pdf_document:
    toc: yes
editor_options: 
  chunk_output_type: inline
---

```{r, eval=F, message=F}
install.packages("reshape")
install.packages("tidyverse")
install.packages("ggplot2")
install.packages("tm")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message = F}
library(reshape) 
library(tidyverse)
library(ggplot2)
```


## Carga de archivos csv y revisión preliminar de los datasets
```{r setup, include=FALSE}
steam <- read.csv("steam.csv", encoding = "UTF-8", as.is = F)
```

```{r setup, include=FALSE}
str(steam)  # revisar información de las columnas
```

```{r setup, include=FALSE}
summary(steam)  # revisar información de las columnas
```

```{r}
dim(steam)  # dimensión del dataset
```

```{r}
sapply(steam, function(x) sum(is.na(x)))  # valores NaN presentes en el dataset
```

```{r}
names(steam)  # nombres de columnas del dataset
```

```{r}
glimpse(steam)
```

## ¿Cómo ha evolucionado la cantidad de juegos que lanzan los desarrolladores en el tiempo?
El estudio busca estudiar cómo ha cambiado (globalmente) la cantidad de juegos que se han lanzado anualmente durante toda la ventana de tiempo que cubren los datos.

### Extracción de columnas relevantes para el análisis
```{r}
games_devs <- steam[, c("name", "release_date", "developer")]
```

### Generar columna solo con año de lanzamiento
```{r}
games_devs$release_date <- as.Date(steam$release_date)
games_devs$release_year <- as.factor(format(games_devs$release_date, "%Y"))
glimpse(games_devs)
```
### Agrupar por años y generar gráficos
```{r}
freq_years <- as.data.frame(table(games_devs$release_year))
names(freq_years) <- c("release_year", "games_released")
order(freq_years[, "release_year"])
glimpse(freq_years)
```

```{r}
ggplot(freq_years) +   # asociamos un data frame a ggplot
  geom_bar(aes(x = release_year, y = games_released), stat="identity") +
  ggtitle("Lanzamientos anuales de Videojuegos según la Tienda de Steam") + # título
  xlab("Año de lanzamiento") + ylab("Cantidad de juegos lanzados")  # etiquetas
```
2do gráfico: Se modificó el eje X pues la cantidad de juegos lanzados en ese.

```{r}
ggplot(freq_years[freq_years$games_released >= 10, ]) +   # asociamos un data frame a ggplot
  geom_bar(aes(x = release_year, y = games_released), stat="identity") +
  ggtitle("Lanzamientos anuales de Videojuegos según la Tienda de Steam") + # título
  xlab("Año de lanzamiento") + ylab("Cantidad de juegos lanzados")  # etiquetas
```
